{"version":3,"file":null,"sources":["../src/index.js"],"sourcesContent":["import { zip, constant, map as mapE, startWith, sampleWith } from 'most'\nimport multicast from '@most/multicast'\nimport { curry2, curry3 } from '@most/prelude'\n\nexport const sample = curry2((event, behavior) => behavior.sample(event))\n\nexport const always = x => new Constant(x)\n\nclass Constant {\n  constructor (value) {\n    this.value = value\n  }\n\n  sample (stream) {\n    return constant(this.value, stream)\n  }\n}\n\nexport const stepper = curry2((initial, updates) =>\n  new Stepper(startWith(initial, updates)))\n\nclass Stepper {\n  constructor (updates) {\n    this.updates = updates\n  }\n\n  sample (stream) {\n    return sampleWith(stream, this.updates)\n  }\n}\n\nexport const map = curry2((f, behavior) => new Map(f, behavior))\n\nclass Map {\n  constructor (f, behavior) {\n    this.f = f\n    this.behavior = behavior\n  }\n\n  sample (stream) {\n    return mapE(this.f, this.behavior.sample(stream))\n  }\n}\n\nexport const liftA2 = curry3((f, b1, b2) => new LiftA2(f, b1, b2))\n\nclass LiftA2 {\n  constructor (f, b1, b2) {\n    this.f = f\n    this.b1 = b1\n    this.b2 = b2\n  }\n\n  sample (stream) {\n    const s = multicast(stream)\n    return zip(this.f, this.b1.sample(s), this.b2.sample(s))\n  }\n}\n"],"names":["const","map","mapE"],"mappings":";;;;AAIOA,IAAM,MAAM,GAAG,MAAM,CAAC,UAAC,KAAK,EAAE,QAAQ,EAAE,SAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,GAAA,CAAC,CAAA;;AAEzE,AAAOA,IAAM,MAAM,GAAG,UAAA,CAAC,EAAC,SAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,GAAA,CAAA;;AAE1C,IAAM,QAAQ,GAAC,iBACF,EAAE,KAAK,EAAE;EACpB,IAAM,CAAC,KAAK,GAAG,KAAK,CAAA;CACnB,CAAA;;AAEH,mBAAE,MAAM,oBAAE,MAAM,EAAE;EAChB,OAAS,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC;CACpC,CAAA;;AAGH,AAAOA,IAAM,OAAO,GAAG,MAAM,CAAC,UAAC,OAAO,EAAE,OAAO,EAAE,SAC/C,IAAI,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,GAAA,CAAC,CAAA;;AAE3C,IAAM,OAAO,GAAC,gBACD,EAAE,OAAO,EAAE;EACtB,IAAM,CAAC,OAAO,GAAG,OAAO,CAAA;CACvB,CAAA;;AAEH,kBAAE,MAAM,oBAAE,MAAM,EAAE;EAChB,OAAS,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC;CACxC,CAAA;;AAGH,AAAOA,IAAMC,KAAG,GAAG,MAAM,CAAC,UAAC,CAAC,EAAE,QAAQ,EAAE,SAAG,IAAI,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAA,CAAC,CAAA;;AAEhE,IAAM,GAAG,GAAC,YACG,EAAE,CAAC,EAAE,QAAQ,EAAE;EAC1B,IAAM,CAAC,CAAC,GAAG,CAAC,CAAA;EACZ,IAAM,CAAC,QAAQ,GAAG,QAAQ,CAAA;CACzB,CAAA;;AAEH,cAAE,MAAM,oBAAE,MAAM,EAAE;EAChB,OAASC,GAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;CAClD,CAAA;;AAGH,AAAOF,IAAM,MAAM,GAAG,MAAM,CAAC,UAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,SAAG,IAAI,MAAM,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,GAAA,CAAC,CAAA;;AAElE,IAAM,MAAM,GAAC,eACA,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;EACxB,IAAM,CAAC,CAAC,GAAG,CAAC,CAAA;EACZ,IAAM,CAAC,EAAE,GAAG,EAAE,CAAA;EACd,IAAM,CAAC,EAAE,GAAG,EAAE,CAAA;CACb,CAAA;;AAEH,iBAAE,MAAM,oBAAE,MAAM,EAAE;EAChB,IAAQ,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAA;EAC7B,OAAS,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;CACzD,CAAA;;"}